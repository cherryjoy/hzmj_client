TableHead = {}

function TableHead:Start( )

end

function TableHead:OnDestroy( )

end

function TableHead:Init(info)
    LuaUIViewCtr.FlushPortraitInfo("Home/homeHeadCusPic", info.imageurl, self.Icon)

    self.Name:set_text(info.rolename)
    self.Score:set_text(tostring(info.integral))
    if info.host ~= 0 then
        self.FangZhu:SetActive(true)
    end

    if info.makers ~= 0 then
        self.Zhuang:SetActive(true)
    end
end

function TableHead:PlayRecordVoice(length)
    self.Speak:set_spriteName("speak0")
    self.Speak:set_enabled(true)
    self.PlayNum = 0
    if self.PlayTimer == nil then
        self.PlayTimer = Timer.NewEvent(self,2,length*10,TableHead.PlayingVoice, false, TableHead.PlayVoiceFinish)
    end
end

function TableHead:PlayingVoice()
    self.PlayNum = self.PlayNum + 1
    self.Speak:set_spriteName("speak"..(self.PlayNum%4))
end


function TableHead:PlayVoiceFinish()
    if self.PlayTimer ~= nil then
        Timer.RemoveEvent(self,self.PlayTimer)
        self.PlayTimer = nil
    end
    self.Speak:set_enabled(false)
end
